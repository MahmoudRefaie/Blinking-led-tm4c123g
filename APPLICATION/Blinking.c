/**********************************************************************************************************************
 *  FILE DESCRIPTION
 *  -----------------------------------------------------------------------------------------------------------------*/
/**        \file  Blinking.c
 *        \brief  
 *
 *      \details  
 *
 *
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  INCLUDES
 *********************************************************************************************************************/
#include "Blinking.h"

/**********************************************************************************************************************
*  LOCAL MACROS CONSTANT\FUNCTION
*********************************************************************************************************************/

/**********************************************************************************************************************
 *  LOCAL DATA 
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  GLOBAL DATA
 *********************************************************************************************************************/
uint8 led_status = STD_LOW;
uint32 time_On = 500U;
uint32 time_Off = 500U;

/**********************************************************************************************************************
 *  LOCAL FUNCTION PROTOTYPES
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  LOCAL FUNCTIONS
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  GLOBAL FUNCTIONS
 *********************************************************************************************************************/


/******************************************************************************
* \Syntax          : void blink_led(uint32 onTime, uint32 offTime)       
* \Description     : Describe this service                                    
*                                                                             
* \Sync\Async      : Synchronous                                               
* \Reentrancy      : Non Reentrant                                             
* \Parameters (in) : parameterName   Parameter Describtion                     
* \Parameters (out): None                                                      
* \Return value:   : Std_ReturnType  E_OK
*                                    E_NOT_OK                                  
*******************************************************************************/
void blink_led(uint32 on, uint32 off)
{
    time_On = on;
    time_Off = off;
    Led_On(LED_B);
    led_status = STD_HIGH;
    Gpt_StartTimer((Gpt_ChannelType)GPT_TIMER0,time_On);
    while(1){

    }
	
	
}

void Blink_Init(void)
{
    Gpio_PortInit(portF_Config);
	Gpt_Init(global_GptConfig);
	Nvic_Init();
}



void Gpt_Notification_Channel_0(void)
{
    if(led_status == STD_HIGH)
    {
        Led_Off(LED_B);
        led_status = STD_LOW;
        Gpt_StartTimer(GPT_TIMER_0,time_Off);
    }else
    {
        Led_On(LED_B);
        led_status = STD_HIGH;
        Gpt_StartTimer(GPT_TIMER_0,time_On);
    }
}


/**********************************************************************************************************************
 *  END OF FILE: Blinking.c
 *********************************************************************************************************************/
